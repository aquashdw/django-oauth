{% extends "base.html" %}

{% block content %}
<div class="colums">
  <div class="column m-auto is-8 is-10-mobile">
    <h1>Sign In</h1>
    <form method="post">
      {% csrf_token %}
      <div class="field">
        <label for="email" class="label is-size-4">Email</label>
        <div class="control">
          <input 
            class="input"
            type="email" 
            placeholder="Email" 
            name="username"
            maxlength="150"
            autocapitalize="none"
            autocomplete="username" 
            autofocus 
            required 
            id="email"
          >
        </div>
      </div>
      <div class="field">
        <label for="password" class="label is-size-4">Password</label>
        <div class="control">
          <input 
            class="input" 
            type="password"
            placeholder="Password"
            name="password"
            autocomplete="current-password"
            required
            id="password"
          >
        </div>
      </div>

      {% if 'invalid_login' in errors %}
      <p class="help is-danger is-size-6 mb-4">
        Invalid Credentials. Check your email and password.
      </p>
      {% endif %}
      {% if created %}
      <p class="help is-success is-size-6 mb-4">
        Your account is now verified
      </p>
      {% endif %}
      <div class="field is-grouped">
        <div class="control">
          <input class="button is-clickable is-primary" type="submit">
          <button id="back-button" class="button is-clickable is-warning" type="button">Go Back</button>
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock content %}

{% block script %}
<script>
  const backButton = document.getElementById('back-button').addEventListener('click', () => history.back())
</script>
{% endblock script %}
